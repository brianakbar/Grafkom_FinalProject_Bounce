(()=>{"use strict";var e,t={6330:(e,t,r)=>{const n=r(6601);let o=new(r(7093).GameWorld);o.add(new n.BallPrefab),o.add(new n.FloorPrefab)},293:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Transform=t.GameObject=t.EventManager=t.Component=void 0;var n=r(8755);Object.defineProperty(t,"Component",{enumerable:!0,get:function(){return n.Component}});var o=r(4309);Object.defineProperty(t,"EventManager",{enumerable:!0,get:function(){return o.EventManager}});var i=r(6350);Object.defineProperty(t,"GameObject",{enumerable:!0,get:function(){return i.GameObject}});var s=r(1086);Object.defineProperty(t,"Transform",{enumerable:!0,get:function(){return s.Transform}})},8755:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;const n=r(293);t.Component=class{constructor(){this.gameObject=new n.GameObject}setGameObject(e){this.gameObject=e}}},4309:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EventManager=void 0;const n=r(8675);class o{constructor(){this.onUpdate=()=>{requestAnimationFrame(this.onUpdate),o.getSystem().notify("Update")},this.onUpdate()}static getSystem(){return this.hasBeenCreated||(this.hasBeenCreated=!0,new o),this.eventSystem||(this.eventSystem=new n.default),this.eventSystem}}t.EventManager=o},6350:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GameObject=void 0;const n=r(5232),o=r(3687),i=r(293);t.GameObject=class{constructor(){this.name="GameObject",this.mesh=new n.Mesh,this.rigidBody=new o.Body,this.components=new Array,this.update=()=>{},this.updateBody=()=>{this.mesh&&this.rigidBody&&(this.mesh.position.set(this.rigidBody.position.x,this.rigidBody.position.y,this.rigidBody.position.z),this.mesh.quaternion.set(this.rigidBody.quaternion.x,this.rigidBody.quaternion.y,this.rigidBody.quaternion.z,this.rigidBody.quaternion.w))}}setup(){this.draw(),i.EventManager.getSystem().subscribe("Update",this.update),i.EventManager.getSystem().subscribe("Update",this.updateBody)}draw(){}getMesh(){return this.mesh}getRigidBody(){return this.rigidBody}getTransform(){return this.transform}addComponent(e){e.setGameObject(this),this.components.push(e)}}},1086:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Transform=void 0;const n=r(5232),o=r(293);class i extends o.Component{constructor(){super(...arguments),this.position=new n.Vector3,this.rotation=new n.Quaternion}}t.Transform=i},6601:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FloorPrefab=t.BallPrefab=void 0;var n=r(8744);Object.defineProperty(t,"BallPrefab",{enumerable:!0,get:function(){return n.BallPrefab}});var o=r(4483);Object.defineProperty(t,"FloorPrefab",{enumerable:!0,get:function(){return o.FloorPrefab}})},8744:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BallPrefab=void 0;const n=r(5232),o=r(3687),i=r(5264),s=r(293);class a extends s.GameObject{constructor(){super(),this.name="BallPrefab",this.radius=3,this.update=()=>{},this.setup()}draw(){let e=new n.SphereGeometry(this.radius),t=new n.MeshBasicMaterial({color:13697024});this.mesh=new n.Mesh(e,t),this.mesh.position.set(0,75,0);let r=i.threeToCannon(this.mesh);this.rigidBody=new o.Body({mass:20,shape:null==r?void 0:r.shape,position:null==r?void 0:r.offset,quaternion:null==r?void 0:r.orientation}),this.rigidBody.position.set(0,75,0)}}t.BallPrefab=a},4483:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FloorPrefab=void 0;const n=r(5232),o=r(3687),i=r(5264),s=r(293);class a extends s.GameObject{constructor(){super(),this.name="FloorPrefab",this.setup()}draw(){let e=new n.BoxGeometry(50,5,50),t=new n.MeshBasicMaterial({color:9849600});this.mesh=new n.Mesh(e,t),this.mesh.position.set(0,-5,0);let r=i.threeToCannon(this.mesh);this.rigidBody=new o.Body({type:o.Body.STATIC,shape:null==r?void 0:r.shape,position:null==r?void 0:r.offset,quaternion:null==r?void 0:r.orientation}),this.rigidBody.position.set(0,-5,0)}}t.FloorPrefab=a},7093:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GameWorld=void 0;var n=r(3626);Object.defineProperty(t,"GameWorld",{enumerable:!0,get:function(){return n.GameWorld}})},3626:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GameWorld=void 0;const n=r(3687),o=r(5232),i=r(293),s=r(8168);t.GameWorld=class{constructor(){this.camera=new o.PerspectiveCamera(75,window.innerWidth/window.innerHeight,1,1e3),this.renderWorld=new o.Scene,this.physicWorld=new n.World({gravity:new n.Vec3(0,-9.82,0)}),this.renderer=new o.WebGLRenderer,this.update=()=>{this.control.update(),this.physicWorld.fixedStep(),this.renderer.render(this.renderWorld,this.camera)},this.camera.position.z=25,this.initScene(),this.initPhysicWorld(),this.initRenderer(),document.body.appendChild(this.renderer.domElement),this.control=new s.OrbitControls(this.camera,this.renderer.domElement),this.control.update(),i.EventManager.getSystem().subscribe("Update",this.update)}add(e){this.renderWorld.add(e.getMesh()),this.physicWorld.addBody(e.getRigidBody())}initScene(){this.renderWorld.fog=new o.Fog(0,500,1e4);const e=new o.AxesHelper(5);this.renderWorld.add(e)}initPhysicWorld(){this.physicWorld.defaultContactMaterial.restitution=.8}initRenderer(){this.renderer.setSize(window.innerWidth,window.innerHeight),null!=this.renderWorld.fog&&this.renderer.setClearColor(this.renderWorld.fog.color),this.renderer.outputEncoding=o.sRGBEncoding}}}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var i=r[e]={exports:{}};return t[e].call(i.exports,i,i.exports,n),i.exports}n.m=t,e=[],n.O=(t,r,o,i)=>{if(!r){var s=1/0;for(h=0;h<e.length;h++){for(var[r,o,i]=e[h],a=!0,d=0;d<r.length;d++)(!1&i||s>=i)&&Object.keys(n.O).every((e=>n.O[e](r[d])))?r.splice(d--,1):(a=!1,i<s&&(s=i));if(a){e.splice(h--,1);var l=o();void 0!==l&&(t=l)}}return t}i=i||0;for(var h=e.length;h>0&&e[h-1][2]>i;h--)e[h]=e[h-1];e[h]=[r,o,i]},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={179:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var o,i,[s,a,d]=r,l=0;if(s.some((t=>0!==e[t]))){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(d)var h=d(n)}for(t&&t(r);l<s.length;l++)i=s[l],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(h)},r=self.webpackChunk=self.webpackChunk||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var o=n.O(void 0,[904],(()=>n(6330)));o=n.O(o)})();